Spaghetti
=========

Spaghetti provides type-safe communication between JavaScript modules.

[![Build Status](https://travis-ci.org/prezi/spaghetti.svg)](https://travis-ci.org/prezi/spaghetti)
[![Analytics](https://ga-beacon.appspot.com/UA-54695510-1/github.com/prezi/spaghetti)](https://github.com/igrigorik/ga-beacon)

Modularizing a large, evolving JavaScript applications is hard, because the untyped nature of the modules makes it difficult to keep track of changing APIs. Spaghetti uses compilers to check communication between modules, transforming run-time API compatibility problems into compile errors.

## How Does it Work?

Spaghetti modules are written in compile-to-JS languages like [TypeScript](http://typescriptlang.org) and [Haxe](http://haxe.org). Each module's API is defined in a [Spaghetti Interface Definition file](/../../wiki/Spaghetti Syntax). Here's an example of a typical API definition:

```
module com.example.greeter

interface Greeter {
    string sayHello(string guest)
}

Greeter createGreeter()
```

Based on this abstract definition, Spaghetti ensures type safety on both the implementor and the caller side of an API:

* **checking if a module implements its API properly** is done via generated interfaces that the module must implement. This way the compiler can check if you've made a mistake or have forgotten something. From the above example, the generated code for the `Greeter` Spaghetti interface in a TypeScript module looks like this:

    ```typescript
    /* Generated by Spaghetti */
    module com.example.greeter {
        export interface Greeter {
            sayHello(user:string):string;
        }
    }
    ```

* **checking if a module is calling the right API of its dependency** is also done via code generation. Spaghetti generates language-specific proxy classes to access other modules in a type-safe way, based on those modules' Spaghetti APIs. Here's how you would use `Greeter` from an Haxe module:

    ```haxe
    import com.example.greeter.GreeterModule;
    // ...
    var greeter = GreeterModule.createGreeter();
    trace(greeter.sayHello("World"));
    ```

If you make a typo in `sayHello`, or try to pass a number as its parameter, the Haxe compiler will fail with an error.

For a detailed explanation of the steps to building a Spaghetti application, see [Workflow on the wiki](../../wiki/Workflow).

## Try It

If you want to get to know Spaghetti, you have options to

* check the [demo application](http://prezi.github.io/spaghetti/demo),
* follow [the tutorial](/../../wiki/Tutorial) for a step-by-step introduction to Spaghetti, or
* see the [code behind the demo](spaghetti-gradle-example), which uses the Gradle integration.

## How to Use It?

Spaghetti is a Java-based tool, and requires Java 7 or newer. It has multiple interfaces:

* the [command-line tool](spaghetti) is the quickest way to get working with Spaghetti
* the [Gradle plugins](gradle-spaghetti-plugin/README.md) make it easy to integrate Spaghetti into your workflow
* Maven and other build system support is planned but no deadline has been set yet.

## Documentation

The documentation is [available on the wiki](/../../wiki).

## Mailing List

Get in touch with Spaghetti developers at: [spaghetti-dev@googlegroups.com](https://groups.google.com/forum/#!forum/spaghetti-dev).
