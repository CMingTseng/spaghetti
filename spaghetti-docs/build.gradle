task collectJavadoc(type: Copy) { collector ->
	def outputDirectory = file("${buildDir}/javadoc")
	parent.subprojects { subproject ->
		tasks.withType(Javadoc) { javadoc ->
			collector.dependsOn javadoc
			from ({javadoc.destinationDir}) {
				into (subproject.name)
			}
		}
		tasks.withType(Groovydoc) { javadoc ->
			collector.dependsOn javadoc
			from ({javadoc.destinationDir}) {
				into (subproject.name)
			}
		}
	}
	into outputDirectory
	// Remove timestamps, because Groovy 
	filter { line ->
		def matcher = line =~ /^\s*<!-- Generated by (?:java|groovy)doc (.* )-->\s*$/
		if (matcher.matches()) {
			return line.replace(matcher.group(1), "")
		}
		return line;
	}
}
